# ru-toxicity-detector

![Python 3.11](https://img.shields.io/badge/Python-3.11-blue) ![MIT License](https://img.shields.io/badge/License-MIT-green) [![Sponsor](https://img.shields.io/badge/Sponsor-%E2%9D%A4-red)](https://kvaytg.ru/donate.php?lang=ru)

–ü—Ä–æ—Å—Ç–æ–π –¥–µ—Ç–µ–∫—Ç–æ—Ä —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏.

## üîç –û –ø—Ä–æ–µ–∫—Ç–µ

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ú–æ–¥–µ–ª—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –±–∞–∑–µ [rubert-tiny2](https://huggingface.co/cointegrated/rubert-tiny2) –∏ –æ–±—É—á–µ–Ω–∞ –º–µ—Ç–æ–¥–æ–º –¥–∏—Å—Ç–∏–ª–ª—è—Ü–∏–∏ –∑–Ω–∞–Ω–∏–π –∏–∑ –±–æ–ª–µ–µ –º–æ—â–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ [russian_toxicity_classifier](https://huggingface.co/s-nlp/russian_toxicity_classifier). –í –∫–∞—á–µ—Å—Ç–≤–µ –æ–±—É—á–∞—é—â–µ–≥–æ –∫–æ—Ä–ø—É—Å–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–∞—Ç–∞—Å–µ—Ç [Russian Language Toxic Comments](https://www.kaggle.com/datasets/blackmoon/russian-language-toxic-comments). –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —è–≤–ª—è–µ—Ç—Å—è –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–æ–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–∏–≥–Ω–∞–ª–æ–º –æ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è –Ω–µ–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏ —Å —Å–∏—Å—Ç–µ–º–æ–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ—Å—Ç–∏—á—å –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ –º–æ–¥–µ–ª–∏.

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

–ú–æ–¥–µ–ª—å –±—ã–ª–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∞ –≤ –æ–±—É—á–µ–Ω–∏–∏. –î–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –ø–æ—Ä–æ–≥ –±—ã–ª –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ **Precision 95%+**.

| –ú–µ—Ç—Ä–∏–∫–∞                 | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-------------------------|----------|
| **Accuracy**            | **0.89** |
| **Precision (Toxic)**   | **0.98** |
| **Recall (Toxic)**      | **0.67** |
| **F1-score (Weighted)** | **0.89** |

–í—ã—Å–æ–∫–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å **Precision (0.98)** –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º–æ–¥–µ–ª—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π. –ù–∏–∑–∫–∏–π Recall (0.67) —è–≤–ª—è–µ—Ç—Å—è –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–º –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–º –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞.

## üìö –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from toxicity_detector import ToxicityDetector

texts = [
    '–¢—ã —á–µ–≥–æ, –±–µ—Ä–µ–≥–∞ –ø–æ–ø—É—Ç–∞–ª?',                  # {'is_toxic': True, 'confidence': 0.5646}
    '–≠—Ç–æ –ø—Ä–∞–≤—ã–π –±–µ—Ä–µ–≥ —Ä–µ–∫–∏, –Ω–µ –ø—É—Ç–∞–π —Å –ª–µ–≤—ã–º.',  # {'is_toxic': False, 'confidence': 0.0341}
    "–¢—ã –¥—É—Ä–∞—á—å—ë."                                # {'is_toxic': True, 'confidence': 0.9328}
]

detector = ToxicityDetector(0.5)
for idx, text in enumerate(texts, start=1):
    print(f'{idx}) {detector.predict(text)}')
```

## üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install git+https://github.com/KvaytG/toxicity-detector.git
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ **[MIT](LICENSE.txt)**.

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º. –°–≤–µ–¥–µ–Ω–∏—è –æ –ª–∏—Ü–µ–Ω–∑–∏—è—Ö —Å–º. –≤ **[pyproject.toml](pyproject.toml)** –∏ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–∞—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
